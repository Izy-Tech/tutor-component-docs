<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <title>&lt;my-element> Demo</title>
  <script src="node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
  <script src="node_modules/lit/polyfill-support.js"></script>
  <script type="module" src="dist/tutor-chat.js"></script>
  <link href="https://fonts.cdnfonts.com/css/stencil-paper" rel="stylesheet">

  <style>
    .chat {
      position: fixed;
      z-index: 9999;
    }
  </style>
</head>

<body>
  <tutor-chat class="chat" id="tutor-chat"></tutor-chat>
  <button id="default-theme-button">Tema Padr√£o</button>
  <button id="dark-theme-button">Tema Escuro</button>
  <button id="new-theme-button">Tema Novo</button>
</body>

<script type="module">
  import { ThemeManager } from './dist/theme-manager.js';

  document.addEventListener("DOMContentLoaded", function () {

    const tutorChat = document.getElementById('tutor-chat');

    tutorChat.options = {
      organizationId: "org-123",
      productId: "prod-123",
      getToken: getConsumerToken,
      getCurrentContent: getCurrentContent,
      startOpened: false
    };
  });

  function getCurrentContent() {
    return {
      externalId: 'csharp-intro-video',
      position: 125000  // 2 minutos e 5 segundos (em milissegundos)
    };
  }

  async function getConsumerToken() {
    const tokenResponse = await fetch("/api/token").then(r => r.json());
    return tokenResponse.access_token;
  }
</script>


</html>
